# 소득세법 기반 RAG(Chatbot) 구축

본 프로젝트는 **소득세법.docx** 문서를 기반으로 임베딩 및 검색 기능을 구축하여, LangChain과 Pinecone을 활용한 **질의응답 챗봇**을 구현한 사례입니다.

---

## 📌 프로젝트 개요
- **목표**: 사용자가 소득세법 관련 질문을 했을 때, 관련 조항을 신속하고 정확하게 검색하고 설명하는 챗봇 구축  
- **핵심 기술**: LangChain, Pinecone, Upstage Embeddings  

---

## 📂 데이터 로드 및 분할
- **Docx2txtLoader**를 활용하여 `소득세법.docx` 문서를 로드  
- **RecursiveCharacterTextSplitter**를 사용하여 텍스트를 **Chunk 단위**로 분할 → 검색 효율성을 향상  

---

## 🗄️ 벡터 데이터베이스 설정
- **OpenAI Embedding 모델**을 사용하여 각 Chunk를 벡터화  
- **Pinecone** DB에 벡터를 저장하여 **고속 검색** 및 **대규모 데이터 확장성** 확보  

---

## 🤖 질의응답 체인 (RetrievalQA)
- LangChain의 **RetrievalQA** 체인을 활용  
- 사용자가 입력한 질문을 기반으로 Pinecone DB에서 연관된 Chunk 검색  
- 검색된 컨텍스트를 OpenAI 모델에 전달 → **자연어 답변 생성**  

---

## 📘 사전 체인 (dictionary_chain)의 중요성
- 단순한 질문 → **사전에 정의된 키워드로 변환**  
- 예시:  
  - 입력: `"연봉5000만원 직장인의 소득세는 얼마야?"`  
  - 변환: `"연봉5000만원 거주자의 소득세는 얼마야?"`  
- 이를 통해 검색 정확도 향상 및 답변 품질 개선
- 소득세법에는 "거주자의 소득세율표라고 존재" 

---
